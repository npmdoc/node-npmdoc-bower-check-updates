<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/se-panfilov/bower-check-updates">bower-check-updates (v2.2.3-1)</a>
</h1>
<h4>Find newer versions of dependencies than what your bower.json allows</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.bower-check-updates">module bower-check-updates</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.getCurrentDependencies">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>getCurrentDependencies
            <span class="apidocSignatureSpan">(pkg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.getGreatestPackageVersion">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>getGreatestPackageVersion
            <span class="apidocSignatureSpan">(packages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.getInstalledPackages">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>getInstalledPackages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.getLatestPackageVersion">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>getLatestPackageVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.getLatestVersions">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>getLatestVersions
            <span class="apidocSignatureSpan">(packageList, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.getPreferredWildcard">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>getPreferredWildcard
            <span class="apidocSignatureSpan">(dependencies)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.initialize">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>initialize
            <span class="apidocSignatureSpan">(global)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.isSatisfied">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>isSatisfied
            <span class="apidocSignatureSpan">(version, range, loose)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.isUpgradeable">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>isUpgradeable
            <span class="apidocSignatureSpan">(current, latest)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.run">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>run
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.updatePackageData">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>updatePackageData
            <span class="apidocSignatureSpan">(pkgData, oldDependencies, newDependencies, newVersions, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.upgradeDependencies">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>upgradeDependencies
            <span class="apidocSignatureSpan">(currentDependencies, latestVersions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.upgradeDependencyDeclaration">
            function <span class="apidocSignatureSpan">bower-check-updates.</span>upgradeDependencyDeclaration
            <span class="apidocSignatureSpan">(declaration, latestVersion, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bower-check-updates.</span>version_util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bower-check-updates.</span>versionmanager</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bower-check-updates.version_util">module bower-check-updates.version_util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.addWildCard">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>addWildCard
            <span class="apidocSignatureSpan">(version, wildcard)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.colorizeDiff">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>colorizeDiff
            <span class="apidocSignatureSpan">(strToColor, strToCompare, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.getPrecision">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>getPrecision
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.isWildCard">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>isWildCard
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.isWildPart">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>isWildPart
            <span class="apidocSignatureSpan">(versionPart)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.numParts">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>numParts
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.precisionAdd">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>precisionAdd
            <span class="apidocSignatureSpan">(precision, n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.setPrecision">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>setPrecision
            <span class="apidocSignatureSpan">(version, precision)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.version_util.stringify">
            function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>stringify
            <span class="apidocSignatureSpan">(semver, precision)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>VERSION_ADDED_PARTS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>VERSION_BASE_PARTS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>VERSION_PARTS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>WILDCARDS</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bower-check-updates.versionmanager">module bower-check-updates.versionmanager</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.getCurrentDependencies">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getCurrentDependencies
            <span class="apidocSignatureSpan">(pkg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.getGreatestPackageVersion">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getGreatestPackageVersion
            <span class="apidocSignatureSpan">(packages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.getInstalledPackages">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getInstalledPackages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.getLatestPackageVersion">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getLatestPackageVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.getLatestVersions">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getLatestVersions
            <span class="apidocSignatureSpan">(packageList, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.getPreferredWildcard">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getPreferredWildcard
            <span class="apidocSignatureSpan">(dependencies)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.initialize">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>initialize
            <span class="apidocSignatureSpan">(global)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.isSatisfied">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>isSatisfied
            <span class="apidocSignatureSpan">(version, range, loose)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.isUpgradeable">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>isUpgradeable
            <span class="apidocSignatureSpan">(current, latest)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.updatePackageData">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>updatePackageData
            <span class="apidocSignatureSpan">(pkgData, oldDependencies, newDependencies, newVersions, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.upgradeDependencies">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>upgradeDependencies
            <span class="apidocSignatureSpan">(currentDependencies, latestVersions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bower-check-updates.versionmanager.upgradeDependencyDeclaration">
            function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>upgradeDependencyDeclaration
            <span class="apidocSignatureSpan">(declaration, latestVersion, options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bower-check-updates" id="apidoc.module.bower-check-updates">module bower-check-updates</a></h1>


    <h2>
        <a href="#apidoc.element.bower-check-updates.getCurrentDependencies" id="apidoc.element.bower-check-updates.getCurrentDependencies">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>getCurrentDependencies
        <span class="apidocSignatureSpan">(pkg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getCurrentDependencies(pkg, options) {

    pkg = pkg || {};
    options = options || {};

    if(!options.prod &amp;&amp; !options.dev &amp;&amp; !options.optional) {
        options.prod = options.dev = options.optional = true;
    }

    var allDependencies = cint.filterObject(_.merge({},
        options.prod &amp;&amp; pkg.dependencies,
        options.dev &amp;&amp; pkg.devDependencies,
        options.optional &amp;&amp; pkg.optionalDependencies
    ), packageNameFilter(options.filter));

    return allDependencies;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.getGreatestPackageVersion" id="apidoc.element.bower-check-updates.getGreatestPackageVersion">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>getGreatestPackageVersion
        <span class="apidocSignatureSpan">(packages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getGreatestPackageVersion(packages) {
    return getPackageVersions(packages).then(_.last);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.getInstalledPackages" id="apidoc.element.bower-check-updates.getInstalledPackages">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>getInstalledPackages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getInstalledPackages() {
    return npm.commands.listAsync([], true)
        .then(function (results) {
            var packageList = results.dependencies;
            if (!packageList) {
                throw new Error("Unable to retrieve NPM package list");
            }

            var globalPackages = {};
            for (var package in packageList) {
                if(packageList[package] !== "*") {
                    globalPackages[packageList[package].name] = packageList[package].version;
                }
            }

            return globalPackages;
        });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.getLatestPackageVersion" id="apidoc.element.bower-check-updates.getLatestPackageVersion">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>getLatestPackageVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLatestPackageVersion = function () {
			var givenArgs = Array.prototype.slice.call(arguments)

			// handle negative indices
			// Note that we add 1 so that -1 points to the slot AFTER the last element, not before the last element (which is what the last
 index points to).
			if(index &lt; 0) {
				index = circ(givenArgs, index) + 1
			}

			var spliceArgs = [givenArgs, index, 0].concat(curriedArgs)
			var newArgs = spliced.apply(this, spliceArgs)
			return f.apply(this, newArgs)
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.getLatestVersions" id="apidoc.element.bower-check-updates.getLatestVersions">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>getLatestVersions
        <span class="apidocSignatureSpan">(packageList, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getLatestVersions(packageList, options) {

    options = options || {};

    // configure registry
    if (options.registry) {
        npm.config.set('registry', options.registry);
    }

    // validate options.versionTarget
    options.versionTarget = options.versionTarget || 'latest';

    // determine the getPackageVersions function from options.versionTarget
    switch (options.versionTarget) {
        case('latest'):
            getPackageVersion = getLatestPackageVersion;
            break;
        case('greatest'):
            getPackageVersion = getGreatestPackageVersion;
            break;
        default:
            var supportedVersionTargets = ['latest', 'greatest'];
            return Promise.reject('Unsupported versionTarget: ' + options.versionTarget + '. Supported version targets are: ' +
supportedVersionTargets);
    }

    // TODO: It would be better here to create an object of promised versions, keyed by the package name, instead of an array. This
 should make the final _.pick unnecessary and subsequently allow the whole PromiseInspection logic to be generalized

    return Promise.settle(packageList.map(getPackageVersion))
        // convert the array of versions to a nicer object keyed by package name
        .then(function (versions) {
            return Promise.map(versions, function (version) {
                if (version.isRejected()) {
                    var reason = version.reason();
                    if(reason.statusCode === 404 || reason == '404' || reason === '404 Not Found') {
                        return null;
                    }
                    else {
                        throw new Error(reason);
                    }
                }
                else {
                    return version.value();
                }
            });
        })
        .then(function (versions) {
            return cint.toObject(versions, function (version, i) {
                return cint.keyValue(packageList[i], version);
            });
        })
        .then(_.partialRight(_.pick, _.identity))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.getPreferredWildcard" id="apidoc.element.bower-check-updates.getPreferredWildcard">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>getPreferredWildcard
        <span class="apidocSignatureSpan">(dependencies)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPreferredWildcard(dependencies) {

    // if there are no dependencies, return null.
    if(Object.keys(dependencies).length === 0) {
        return null;
    }

    // group the dependencies by wildcard
    var groups = _.groupBy(_.values(dependencies), function(dep) {
        return _.find(versionUtil.WILDCARDS, function(wildcard) {
            return dep.indexOf(wildcard) &gt; -1;
        });
    });

    // if none of the dependencies use a wildcard, return null
    var usedWildcards = Object.keys(groups);
    if(usedWildcards.length === 1 &amp;&amp; usedWildcards[0] === 'undefined') {
        return null;
    }

    // convert to an array of objects that can be sorted
    var arrOfGroups = cint.toArray(groups, function (wildcard, instances) {
        return {
            wildcard: wildcard,
            instances: instances
        };
    });

    // reverse sort the groups so that the wildcard with the most appearances is at the head, then return it.
    var sorted = _.sortBy(arrOfGroups, function (wildcardObject) {
        return -wildcardObject.instances.length;
    });

    return sorted[0].wildcard;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.initialize" id="apidoc.element.bower-check-updates.initialize">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>initialize
        <span class="apidocSignatureSpan">(global)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function initialize(global) {

    return npm.loadAsync({silent: true, global: global})
        .then(function () {
            rawPromisify(npm.commands);
            return npmIsInitialized = true;
        });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.isSatisfied" id="apidoc.element.bower-check-updates.isSatisfied">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>isSatisfied
        <span class="apidocSignatureSpan">(version, range, loose)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function satisfies(version, range, loose) {
  try {
    range = new Range(range, loose);
  } catch (er) {
    return false;
  }
  return range.test(version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.isUpgradeable" id="apidoc.element.bower-check-updates.isUpgradeable">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>isUpgradeable
        <span class="apidocSignatureSpan">(current, latest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isUpgradeable(current, latest) {

    // do not upgrade non-npm version declarations (such as git tags)
    // do not upgrade versionUtil.wildcards
    if(!semver.validRange(current) || versionUtil.isWildCard(current)) {
        return false;
    }

    // remove the constraint (e.g. ^1.0.1 -&gt; 1.0.1) to allow upgrades that satisfy the range, but are out of date
    var version = versionUtil.stringify(semverutils.parseRange(current)[0]);

    // make sure it is a valid range
    // not upgradeable if the latest version satisfies the current range
    // not upgradeable if the specified version is newer than the latest (indicating a prerelease version)
    return !!semver.validRange(version)
        &amp;&amp; !isSatisfied(latest, version)
        &amp;&amp; !semver.ltr(latest, version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.run" id="apidoc.element.bower-check-updates.run">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>run
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (opts) {
    options = opts || {};

    // if not executed on the command-line (i.e. executed as a node module), set some defaults
    if(!options.cli) {
        _.defaults(options, {
            jsonUpgraded: true,
            silent: true,
            args: []
        });
    }

    return vm.initialize(options.global).then(programRun);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Integration
--------------
The tool allows integration with 3rd party code:

```javascript
var bcu = require('bower-check-updates');

bcu.<span class="apidocCodeKeywordSpan">run</span>({
packageData: fs.readFileSync('./some/project/bower.json', 'utf-8'),
// Any command-line option can be specified here.
// These are set by default:
// silent: true,
// jsonUpgraded: true
}).then(function(upgraded) {
console.log('dependencies to upgrade:', upgraded);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.updatePackageData" id="apidoc.element.bower-check-updates.updatePackageData">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>updatePackageData
        <span class="apidocSignatureSpan">(pkgData, oldDependencies, newDependencies, newVersions, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function updatePackageData(pkgData, oldDependencies, newDependencies, newVersions, options) {

    options = options || {};
    var upgradeAll = options.upgradeAll;

    for (var dependency in newDependencies) {
        if (upgradeAll || !isSatisfied(newVersions[dependency], oldDependencies[dependency])) {
            var expression = '"' + dependency + '"\\s*:\\s*"' + escapeRegexp(oldDependencies[dependency] + '"');
            var regExp = new RegExp(expression, "g");
            pkgData = pkgData.replace(regExp, '"' + dependency + '": ' + '"' + newDependencies[dependency] + '"');
        }
    }

    return pkgData;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.upgradeDependencies" id="apidoc.element.bower-check-updates.upgradeDependencies">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>upgradeDependencies
        <span class="apidocSignatureSpan">(currentDependencies, latestVersions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function upgradeDependencies(currentDependencies, latestVersions) {

    // get the preferred wildcard and bind it to upgradeDependencyDeclaration
    var wildcard = getPreferredWildcard(currentDependencies) || DEFAULT_WILDCARD;
    var upgradeDep = _.partialRight(upgradeDependencyDeclaration, {
        wildcard: wildcard
    });

    return _(currentDependencies)
        // only include packages for which a latest version was fetched
        .pick(function (current, packageName) {
            return packageName in latestVersions;
        })
        // combine the current and latest dependency objects into a single object keyed by packageName and containing both versions
 in an array: [current, latest]
        .mapValues(function (current, packageName) {
            var latest = latestVersions[packageName];
            return [current, latest];
        })
        // pick the packages that are upgradeable
        // we can use spread because isUpgradeable and upgradeDependencyDeclaration both take current and latest as arguments
        .pick(_.spread(isUpgradeable))
        .mapValues(_.spread(upgradeDep))
        .value();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.upgradeDependencyDeclaration" id="apidoc.element.bower-check-updates.upgradeDependencyDeclaration">
        function <span class="apidocSignatureSpan">bower-check-updates.</span>upgradeDependencyDeclaration
        <span class="apidocSignatureSpan">(declaration, latestVersion, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function upgradeDependencyDeclaration(declaration, latestVersion, options) {

    options = options || {};
    options.wildcard = options.wildcard || DEFAULT_WILDCARD;

    // return global versionUtil.wildcards immediately
    if(versionUtil.isWildCard(declaration)) {
        return declaration;
    }

    // parse the latestVersion
    // return original declaration if latestSemver is invalid
    var latestSemver = semverutils.parseRange(latestVersion)[0];
    if (!latestSemver) {
        return declaration;
    }

    // parse the declaration
    // if multiple ranges, use the semver with the least number of parts
    var parsedRange = _(semverutils.parseRange(declaration))
        .reject({ operator: '||' }) // semver-utils includes empty entries for the || operator. We can remove them completely.
        .sortBy(function(range) {
            return versionUtil.numParts(versionUtil.stringify(range));
        })
        .value();
    var declaredSemver = parsedRange[0];

<span class="apidocCodeCommentSpan">    /**
     * Chooses version parts between the declared version and the latest.
     * Base parts (major, minor, patch) are only included if they are in the original declaration.
     * Added parts (release, build) are always included. They are only present if we are checking --greatest versions anyway.
    */
</span>    function chooseVersion(part) {
        return versionUtil.isWildPart(declaredSemver[part]) ? declaredSemver[part] :
            _.contains(versionUtil.VERSION_BASE_PARTS, part) &amp;&amp; declaredSemver[part] ? latestSemver[part] :
            _.contains(versionUtil.VERSION_ADDED_PARTS, part) ? latestSemver[part] :
            undefined;
    }

    // create a new semver object with major, minor, patch, build, and release parts
    var newSemver = cint.toObject(versionUtil.VERSION_PARTS, function (part) {
        return cint.keyValue(part, chooseVersion(part));
    });
    var newSemverString = versionUtil.stringify(newSemver);
    var version = v(declaredSemver.semver) + newSemverString;

    // determine the operator
    // do not compact, because [undefined, '&lt;'] must be differentiated from ['&lt;']
    var uniqueOperators = _(parsedRange)
        .pluck('operator')
        .uniq()
        .value();
    var operator = uniqueOperators[0] || '';

    var hasWildCard = versionUtil.WILDCARDS.some(_.partial(_.contains, newSemverString, _, 0));
    var isLessThan = uniqueOperators[0] === '&lt;' || uniqueOperators[0] === '&lt;=';
    var isMixed = uniqueOperators.length &gt; 1;

    // convert versions with &lt;/&lt;= or mixed operators into the preferred wildcard
    // only do so if the new version does not already contain a wildcard
    return !hasWildCard &amp;&amp; (isLessThan || isMixed) ?
        versionUtil.addWildCard(version, options.wildcard) :
        operator + version;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bower-check-updates.version_util" id="apidoc.module.bower-check-updates.version_util">module bower-check-updates.version_util</a></h1>


    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.addWildCard" id="apidoc.element.bower-check-updates.version_util.addWildCard">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>addWildCard
        <span class="apidocSignatureSpan">(version, wildcard)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function addWildCard(version, wildcard) {
    return wildcard === '^' || wildcard === '~' ?
        wildcard + version :
        setPrecision(version, 'major') + wildcard;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   var hasWildCard = versionUtil.WILDCARDS.some(_.partial(_.contains, newSemverString, _, 0));
   var isLessThan = uniqueOperators[0] === '&lt;' || uniqueOperators[0] === '&lt;=';
   var isMixed = uniqueOperators.length &gt; 1;

   // convert versions with &lt;/&lt;= or mixed operators into the preferred wildcard
   // only do so if the new version does not already contain a wildcard
   return !hasWildCard &amp;&amp; (isLessThan || isMixed) ?
       versionUtil.<span class="apidocCodeKeywordSpan">addWildCard</span>(version, options.wildcard) :
       operator + version;
}

/**
* Upgrade a dependencies collection based on latest available versions
* @param currentDependencies current dependencies collection object
* @param latestVersions latest available versions collection object
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.colorizeDiff" id="apidoc.element.bower-check-updates.version_util.colorizeDiff">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>colorizeDiff
        <span class="apidocSignatureSpan">(strToColor, strToCompare, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function colorizeDiff(strToColor, strToCompare, options) {

    var options = options || {};
    options.color = options.color || 'green';
    var leadingWildcard = '';

    // separate out leading ^ or ~
    if(/^[~^]/.test(strToColor) &amp;&amp; strToColor[0] === strToCompare[0]) {
        leadingWildcard = strToColor[0];
        strToColor = strToColor.slice(1);
        strToCompare = strToCompare.slice(1);
    }

    // split into parts
    var partsToColor = strToColor.split('.');
    var partsToCompare = strToCompare.split('.');

    var i = _.findIndex(partsToColor, function (part, i) {
      return part !== partsToCompare[i];
    });
    i = i &gt;= 0 ? i : partsToColor.length;

    // if we are colorizing only part of the word, add a dot in the middle
    var middot = i &gt; 0 &amp;&amp; i &lt; partsToColor.length ? '.' : '';

    return leadingWildcard +
        partsToColor.slice(0,i).join('.') +
        middot +
        chalk[options.color](partsToColor.slice(i).join('.'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.getPrecision" id="apidoc.element.bower-check-updates.version_util.getPrecision">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>getPrecision
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPrecision(version) {
    var semver = semverutils.parseRange(version)[0];
    // expects VERSION_PARTS to be in correct order
    return _.find(VERSION_PARTS.slice().reverse(), _.propertyOf(semver));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.isWildCard" id="apidoc.element.bower-check-updates.version_util.isWildCard">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>isWildCard
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isWildCard(version) {
    return WILDCARD_PURE_REGEX.test(version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
function upgradeDependencyDeclaration(declaration, latestVersion, options) {

options = options || {};
options.wildcard = options.wildcard || DEFAULT_WILDCARD;

// return global versionUtil.wildcards immediately
if(versionUtil.<span class="apidocCodeKeywordSpan">isWildCard</span>(declaration)) {
    return declaration;
}

// parse the latestVersion
// return original declaration if latestSemver is invalid
var latestSemver = semverutils.parseRange(latestVersion)[0];
if (!latestSemver) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.isWildPart" id="apidoc.element.bower-check-updates.version_util.isWildPart">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>isWildPart
        <span class="apidocSignatureSpan">(versionPart)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isWildPart(versionPart) {
    return versionPart === '*' || versionPart === 'x';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Chooses version parts between the declared version and the latest.
 * Base parts (major, minor, patch) are only included if they are in the original declaration.
 * Added parts (release, build) are always included. They are only present if we are checking --greatest versions anyway.
*/
function chooseVersion(part) {
    return versionUtil.<span class="apidocCodeKeywordSpan">isWildPart</span>(declaredSemver[part]) ? declaredSemver[part] :
        _.contains(versionUtil.VERSION_BASE_PARTS, part) &amp;&amp; declaredSemver[part] ? latestSemver[part] :
        _.contains(versionUtil.VERSION_ADDED_PARTS, part) ? latestSemver[part] :
        undefined;
}

// create a new semver object with major, minor, patch, build, and release parts
var newSemver = cint.toObject(versionUtil.VERSION_PARTS, function (part) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.numParts" id="apidoc.element.bower-check-updates.version_util.numParts">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>numParts
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function numParts(version) {

    var semver = semverutils.parseRange(version)[0];

    if(!semver) {
        throw new Error(util.format('semverutils.parseRange returned null when trying to parse "%s". This is probably a problem
with the "semver-utils" dependency. Please report an issue at https://github.com/se-panfilov/bower-check-updates/issues.', version
))
    }

    return _.intersection(VERSION_PARTS, Object.keys(semver)).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// parse the declaration
// if multiple ranges, use the semver with the least number of parts
var parsedRange = _(semverutils.parseRange(declaration))
    .reject({ operator: '||' }) // semver-utils includes empty entries for the || operator. We can remove them completely
.
    .sortBy(function(range) {
        return versionUtil.<span class="apidocCodeKeywordSpan">numParts</span>(versionUtil.stringify(range));
    })
    .value();
var declaredSemver = parsedRange[0];

/**
 * Chooses version parts between the declared version and the latest.
 * Base parts (major, minor, patch) are only included if they are in the original declaration.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.precisionAdd" id="apidoc.element.bower-check-updates.version_util.precisionAdd">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>precisionAdd
        <span class="apidocSignatureSpan">(precision, n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function precisionAdd(precision, n) {

    if(n === 0) { return precision; }

    var index = n === 0 ? precision :
        _.contains(VERSION_BASE_PARTS, precision) ? VERSION_BASE_PARTS.indexOf(precision) + n :
        _.contains(VERSION_ADDED_PARTS, precision) ? VERSION_BASE_PARTS.length + n :
        null;

    if(index === null) {
        throw new Error('Invalid precision: ' + precision);
    }
    else if(!VERSION_PARTS[index]) {
        throw new Error('Invalid precision math' + arguments);
    }

    return VERSION_PARTS[index];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.setPrecision" id="apidoc.element.bower-check-updates.version_util.setPrecision">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>setPrecision
        <span class="apidocSignatureSpan">(version, precision)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setPrecision(version, precision) {
    var semver = semverutils.parseRange(version)[0];
    return stringify(semver, precision);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.version_util.stringify" id="apidoc.element.bower-check-updates.version_util.stringify">
        function <span class="apidocSignatureSpan">bower-check-updates.version_util.</span>stringify
        <span class="apidocSignatureSpan">(semver, precision)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stringify(semver, precision) {

    // get a list of the parts up until (and including) the given precision
    // or all of them, if no precision is specified
    var parts = precision ? VERSION_PARTS.slice(0, VERSION_PARTS.indexOf(precision)+1) : VERSION_PARTS;

    // pair each part with its delimiter and join together
    return parts
        .filter(function(part) {
            return _.contains(VERSION_BASE_PARTS, precision) || semver[part];
        })
        .map(function(part) {
            return VERSION_PART_DELIM[part] + (semver[part] || '0');
        })
        .join('');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// parse the declaration
// if multiple ranges, use the semver with the least number of parts
var parsedRange = _(semverutils.parseRange(declaration))
    .reject({ operator: '||' }) // semver-utils includes empty entries for the || operator. We can remove them completely
.
    .sortBy(function(range) {
        return versionUtil.numParts(versionUtil.<span class="apidocCodeKeywordSpan">stringify</span>(range));
    })
    .value();
var declaredSemver = parsedRange[0];

/**
 * Chooses version parts between the declared version and the latest.
 * Base parts (major, minor, patch) are only included if they are in the original declaration.
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bower-check-updates.versionmanager" id="apidoc.module.bower-check-updates.versionmanager">module bower-check-updates.versionmanager</a></h1>


    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.getCurrentDependencies" id="apidoc.element.bower-check-updates.versionmanager.getCurrentDependencies">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getCurrentDependencies
        <span class="apidocSignatureSpan">(pkg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getCurrentDependencies(pkg, options) {

    pkg = pkg || {};
    options = options || {};

    if(!options.prod &amp;&amp; !options.dev &amp;&amp; !options.optional) {
        options.prod = options.dev = options.optional = true;
    }

    var allDependencies = cint.filterObject(_.merge({},
        options.prod &amp;&amp; pkg.dependencies,
        options.dev &amp;&amp; pkg.devDependencies,
        options.optional &amp;&amp; pkg.optionalDependencies
    ), packageNameFilter(options.filter));

    return allDependencies;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.getGreatestPackageVersion" id="apidoc.element.bower-check-updates.versionmanager.getGreatestPackageVersion">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getGreatestPackageVersion
        <span class="apidocSignatureSpan">(packages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getGreatestPackageVersion(packages) {
    return getPackageVersions(packages).then(_.last);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.getInstalledPackages" id="apidoc.element.bower-check-updates.versionmanager.getInstalledPackages">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getInstalledPackages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getInstalledPackages() {
    return npm.commands.listAsync([], true)
        .then(function (results) {
            var packageList = results.dependencies;
            if (!packageList) {
                throw new Error("Unable to retrieve NPM package list");
            }

            var globalPackages = {};
            for (var package in packageList) {
                if(packageList[package] !== "*") {
                    globalPackages[packageList[package].name] = packageList[package].version;
                }
            }

            return globalPackages;
        });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.getLatestPackageVersion" id="apidoc.element.bower-check-updates.versionmanager.getLatestPackageVersion">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getLatestPackageVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLatestPackageVersion = function () {
			var givenArgs = Array.prototype.slice.call(arguments)

			// handle negative indices
			// Note that we add 1 so that -1 points to the slot AFTER the last element, not before the last element (which is what the last
 index points to).
			if(index &lt; 0) {
				index = circ(givenArgs, index) + 1
			}

			var spliceArgs = [givenArgs, index, 0].concat(curriedArgs)
			var newArgs = spliced.apply(this, spliceArgs)
			return f.apply(this, newArgs)
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.getLatestVersions" id="apidoc.element.bower-check-updates.versionmanager.getLatestVersions">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getLatestVersions
        <span class="apidocSignatureSpan">(packageList, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getLatestVersions(packageList, options) {

    options = options || {};

    // configure registry
    if (options.registry) {
        npm.config.set('registry', options.registry);
    }

    // validate options.versionTarget
    options.versionTarget = options.versionTarget || 'latest';

    // determine the getPackageVersions function from options.versionTarget
    switch (options.versionTarget) {
        case('latest'):
            getPackageVersion = getLatestPackageVersion;
            break;
        case('greatest'):
            getPackageVersion = getGreatestPackageVersion;
            break;
        default:
            var supportedVersionTargets = ['latest', 'greatest'];
            return Promise.reject('Unsupported versionTarget: ' + options.versionTarget + '. Supported version targets are: ' +
supportedVersionTargets);
    }

    // TODO: It would be better here to create an object of promised versions, keyed by the package name, instead of an array. This
 should make the final _.pick unnecessary and subsequently allow the whole PromiseInspection logic to be generalized

    return Promise.settle(packageList.map(getPackageVersion))
        // convert the array of versions to a nicer object keyed by package name
        .then(function (versions) {
            return Promise.map(versions, function (version) {
                if (version.isRejected()) {
                    var reason = version.reason();
                    if(reason.statusCode === 404 || reason == '404' || reason === '404 Not Found') {
                        return null;
                    }
                    else {
                        throw new Error(reason);
                    }
                }
                else {
                    return version.value();
                }
            });
        })
        .then(function (versions) {
            return cint.toObject(versions, function (version, i) {
                return cint.keyValue(packageList[i], version);
            });
        })
        .then(_.partialRight(_.pick, _.identity))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.getPreferredWildcard" id="apidoc.element.bower-check-updates.versionmanager.getPreferredWildcard">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>getPreferredWildcard
        <span class="apidocSignatureSpan">(dependencies)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPreferredWildcard(dependencies) {

    // if there are no dependencies, return null.
    if(Object.keys(dependencies).length === 0) {
        return null;
    }

    // group the dependencies by wildcard
    var groups = _.groupBy(_.values(dependencies), function(dep) {
        return _.find(versionUtil.WILDCARDS, function(wildcard) {
            return dep.indexOf(wildcard) &gt; -1;
        });
    });

    // if none of the dependencies use a wildcard, return null
    var usedWildcards = Object.keys(groups);
    if(usedWildcards.length === 1 &amp;&amp; usedWildcards[0] === 'undefined') {
        return null;
    }

    // convert to an array of objects that can be sorted
    var arrOfGroups = cint.toArray(groups, function (wildcard, instances) {
        return {
            wildcard: wildcard,
            instances: instances
        };
    });

    // reverse sort the groups so that the wildcard with the most appearances is at the head, then return it.
    var sorted = _.sortBy(arrOfGroups, function (wildcardObject) {
        return -wildcardObject.instances.length;
    });

    return sorted[0].wildcard;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.initialize" id="apidoc.element.bower-check-updates.versionmanager.initialize">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>initialize
        <span class="apidocSignatureSpan">(global)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function initialize(global) {

    return npm.loadAsync({silent: true, global: global})
        .then(function () {
            rawPromisify(npm.commands);
            return npmIsInitialized = true;
        });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.isSatisfied" id="apidoc.element.bower-check-updates.versionmanager.isSatisfied">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>isSatisfied
        <span class="apidocSignatureSpan">(version, range, loose)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function satisfies(version, range, loose) {
  try {
    range = new Range(range, loose);
  } catch (er) {
    return false;
  }
  return range.test(version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.isUpgradeable" id="apidoc.element.bower-check-updates.versionmanager.isUpgradeable">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>isUpgradeable
        <span class="apidocSignatureSpan">(current, latest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isUpgradeable(current, latest) {

    // do not upgrade non-npm version declarations (such as git tags)
    // do not upgrade versionUtil.wildcards
    if(!semver.validRange(current) || versionUtil.isWildCard(current)) {
        return false;
    }

    // remove the constraint (e.g. ^1.0.1 -&gt; 1.0.1) to allow upgrades that satisfy the range, but are out of date
    var version = versionUtil.stringify(semverutils.parseRange(current)[0]);

    // make sure it is a valid range
    // not upgradeable if the latest version satisfies the current range
    // not upgradeable if the specified version is newer than the latest (indicating a prerelease version)
    return !!semver.validRange(version)
        &amp;&amp; !isSatisfied(latest, version)
        &amp;&amp; !semver.ltr(latest, version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.updatePackageData" id="apidoc.element.bower-check-updates.versionmanager.updatePackageData">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>updatePackageData
        <span class="apidocSignatureSpan">(pkgData, oldDependencies, newDependencies, newVersions, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function updatePackageData(pkgData, oldDependencies, newDependencies, newVersions, options) {

    options = options || {};
    var upgradeAll = options.upgradeAll;

    for (var dependency in newDependencies) {
        if (upgradeAll || !isSatisfied(newVersions[dependency], oldDependencies[dependency])) {
            var expression = '"' + dependency + '"\\s*:\\s*"' + escapeRegexp(oldDependencies[dependency] + '"');
            var regExp = new RegExp(expression, "g");
            pkgData = pkgData.replace(regExp, '"' + dependency + '": ' + '"' + newDependencies[dependency] + '"');
        }
    }

    return pkgData;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.upgradeDependencies" id="apidoc.element.bower-check-updates.versionmanager.upgradeDependencies">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>upgradeDependencies
        <span class="apidocSignatureSpan">(currentDependencies, latestVersions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function upgradeDependencies(currentDependencies, latestVersions) {

    // get the preferred wildcard and bind it to upgradeDependencyDeclaration
    var wildcard = getPreferredWildcard(currentDependencies) || DEFAULT_WILDCARD;
    var upgradeDep = _.partialRight(upgradeDependencyDeclaration, {
        wildcard: wildcard
    });

    return _(currentDependencies)
        // only include packages for which a latest version was fetched
        .pick(function (current, packageName) {
            return packageName in latestVersions;
        })
        // combine the current and latest dependency objects into a single object keyed by packageName and containing both versions
 in an array: [current, latest]
        .mapValues(function (current, packageName) {
            var latest = latestVersions[packageName];
            return [current, latest];
        })
        // pick the packages that are upgradeable
        // we can use spread because isUpgradeable and upgradeDependencyDeclaration both take current and latest as arguments
        .pick(_.spread(isUpgradeable))
        .mapValues(_.spread(upgradeDep))
        .value();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bower-check-updates.versionmanager.upgradeDependencyDeclaration" id="apidoc.element.bower-check-updates.versionmanager.upgradeDependencyDeclaration">
        function <span class="apidocSignatureSpan">bower-check-updates.versionmanager.</span>upgradeDependencyDeclaration
        <span class="apidocSignatureSpan">(declaration, latestVersion, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function upgradeDependencyDeclaration(declaration, latestVersion, options) {

    options = options || {};
    options.wildcard = options.wildcard || DEFAULT_WILDCARD;

    // return global versionUtil.wildcards immediately
    if(versionUtil.isWildCard(declaration)) {
        return declaration;
    }

    // parse the latestVersion
    // return original declaration if latestSemver is invalid
    var latestSemver = semverutils.parseRange(latestVersion)[0];
    if (!latestSemver) {
        return declaration;
    }

    // parse the declaration
    // if multiple ranges, use the semver with the least number of parts
    var parsedRange = _(semverutils.parseRange(declaration))
        .reject({ operator: '||' }) // semver-utils includes empty entries for the || operator. We can remove them completely.
        .sortBy(function(range) {
            return versionUtil.numParts(versionUtil.stringify(range));
        })
        .value();
    var declaredSemver = parsedRange[0];

<span class="apidocCodeCommentSpan">    /**
     * Chooses version parts between the declared version and the latest.
     * Base parts (major, minor, patch) are only included if they are in the original declaration.
     * Added parts (release, build) are always included. They are only present if we are checking --greatest versions anyway.
    */
</span>    function chooseVersion(part) {
        return versionUtil.isWildPart(declaredSemver[part]) ? declaredSemver[part] :
            _.contains(versionUtil.VERSION_BASE_PARTS, part) &amp;&amp; declaredSemver[part] ? latestSemver[part] :
            _.contains(versionUtil.VERSION_ADDED_PARTS, part) ? latestSemver[part] :
            undefined;
    }

    // create a new semver object with major, minor, patch, build, and release parts
    var newSemver = cint.toObject(versionUtil.VERSION_PARTS, function (part) {
        return cint.keyValue(part, chooseVersion(part));
    });
    var newSemverString = versionUtil.stringify(newSemver);
    var version = v(declaredSemver.semver) + newSemverString;

    // determine the operator
    // do not compact, because [undefined, '&lt;'] must be differentiated from ['&lt;']
    var uniqueOperators = _(parsedRange)
        .pluck('operator')
        .uniq()
        .value();
    var operator = uniqueOperators[0] || '';

    var hasWildCard = versionUtil.WILDCARDS.some(_.partial(_.contains, newSemverString, _, 0));
    var isLessThan = uniqueOperators[0] === '&lt;' || uniqueOperators[0] === '&lt;=';
    var isMixed = uniqueOperators.length &gt; 1;

    // convert versions with &lt;/&lt;= or mixed operators into the preferred wildcard
    // only do so if the new version does not already contain a wildcard
    return !hasWildCard &amp;&amp; (isLessThan || isMixed) ?
        versionUtil.addWildCard(version, options.wildcard) :
        operator + version;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>